<launch>
  <!-- Запуск LiDAR (даём уникальное имя) -->
  <include file="$(find super_robot_package)/launch/x4_pro.launch" />


  <!-- Преобразование TF: Odom → Base -->
  <node pkg="tf" type="static_transform_publisher" name="odom_to_base"
        args="0 0 0.2 0 0 0 /odom /base_footprint 100" />

  <!-- Запуск SLAM (GMapping) -->
  <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
    <param name="base_frame" value="base_footprint"/>
    <param name="odom_frame" value="odom"/>
    <param name="map_frame" value="map"/>
    <param name="delta" value="0.1"/>
    <param name="linearUpdate" value="0.5"/>
    <param name="angularUpdate" value="0.2"/>
  </node>

  <!-- Запуск RViz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find super_robot_package)/config/navigation.rviz" />
</launch>

